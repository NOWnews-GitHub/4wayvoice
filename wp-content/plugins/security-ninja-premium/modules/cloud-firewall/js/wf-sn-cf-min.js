jQuery(document).ready((function(e){e("#sn_cf").on("click",".testresults h3",(function(l){l.preventDefault();e(this).parents(".testresults").toggleClass("opened").find("table")})),e("#wf_sn_cf_blocked_countries").select2({multiple:!0,dropdownAutoWidth:!0,closeOnSelect:!1,theme:"classic"}),e("#sn-enable-firewall-overlay").click((function(l){var a;l.preventDefault();var n=3;e("#abort-scan").hide(),e(".loader").hide(),sn_block_ui("#sn-cloud-firewall"),e("#sn-close-firewall").attr("disabled","disabled");var s={action:"sn_enable_firewall",_ajax_nonce:wf_sn_cf.nonce};e.get(ajaxurl,s,(function(l){"1"!==l?(alert("Undocumented error. Page will automatically reload."),window.location.reload()):a=setInterval((function(){0===n?(e("#sn-close-firewall").val("Close"),clearInterval(a),e("#sn-close-firewall").removeAttr("disabled")):e("#sn-close-firewall").val("Close ("+n+")"),n--}),1e3)}),"html")})),e("#sn-close-firewall").on("click",(function(){window.location.reload()})),e("#sn-send-unlock-code").click((function(l){l.preventDefault();var a={action:"sn_send_unblock_email",email:e("#sn-ublock-email").val(),_ajax_nonce:wf_sn_cf.nonce};e("#sn-unblock-message").html('<img title="Loading ..." src="'+wf_sn.sn_plugin_url+'images/ajax-loader.gif" alt="Loading...">'),e("#sn-unblock-message").removeClass("sn-unblock-message-bad"),e("#sn-unblock-message").removeClass("sn-unblock-message-good"),e.get(ajaxurl,a,(function(l){"1"!==l?(e("#sn-unblock-message").html("An error occured and the message could not be sent."),e("#sn-unblock-message").addClass("sn-unblock-message-bad")):(e("#sn-unblock-message").html("Email sent successfully."),e("#sn-unblock-message").addClass("sn-unblock-message-good"))}),"html").fail((function(){e("#sn-unblock-message").html("An error occured. The email could not be sent."),e("#sn-unblock-message").addClass("sn-unblock-message-bad")}))})),e("#sn-firewall-blacklist-clear").click((function(l){l.preventDefault();var a={action:"sn_clear_blacklist",email:e("#sn-ublock-email").val(),_ajax_nonce:wf_sn_cf.nonce};e("#sn-firewall-blacklist-clear").remove(),e("#sn-firewall-blacklist").append('<img title="Loading ..." src="'+wf_sn.sn_plugin_url+'images/ajax-loader.gif" alt="Loading...">'),e.get(ajaxurl,a,(function(l){"1"!==l?(alert("Undocumented error. Page will automatically reload."),window.location.reload()):(alert("List has been cleared."),e("#sn-firewall-blacklist").html("No locally banned IPs"))}),"html").fail((function(){alert("Undocumented error. Page will automatically reload."),window.location.reload()}))})),e("#sn-disable-firewall").on("click",(function(){e("#wf_sn_cf_active").val(0),e("#sn-firewall-settings-form").submit()})),e("#wf-cf-do-test-ip").on("click",(function(l){l.preventDefault();var a={action:"sn_test_ip",ip:e("#wf-cf-ip-test").val(),_ajax_nonce:wf_sn_cf.nonce};return e.get(ajaxurl,a,(function(e){e.data&&e.success?alert(e.data):(alert("An undocumented error has occured. Page will automatically reload."),window.location.reload())}),"json").fail((function(){alert("An undocumented error has occured. Page will automatically reload."),window.location.reload()})),!1}))}));